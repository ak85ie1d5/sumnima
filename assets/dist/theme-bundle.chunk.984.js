"use strict";(self.webpackChunkbigcommerce_cornerstone=self.webpackChunkbigcommerce_cornerstone||[]).push([[984],{54448:(e,t,r)=>{function i(e){return"string"==typeof e&&0!==e.length}r.d(t,{c:()=>i})},60136:(e,t,r)=>{r.d(t,{Y:()=>a});var i="translations",n=function(e){return!!Object.keys(e[i]).length},a=function(e){var t=function(){for(var e=0;e<arguments.length;e++){var t=JSON.parse(e<0||arguments.length<=e?void 0:arguments[e]);if(n(t))return t}}(e.validationDictionaryJSON,e.validationFallbackDictionaryJSON,e.validationDefaultDictionaryJSON),r=Object.values(t[i]);return Object.keys(t[i]).map((function(e){return e.split(".").pop()})).reduce((function(e,t,i){return e[t]=r[i],e}),{})}},88984:(e,t,r)=>{r.r(t),r.d(t,{default:()=>s});var i=r(47452),n=r(51380),a=r(54448),c=r(37740),o=r(60136),f=r(92256),u=r(23616),l=r(55192),m=r(41584);function d(e,t){return d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},d(e,t)}var s=function(e){var t,r;function i(t){var r;(r=e.call(this,t)||this).validationDictionary=(0,o.Y)(t);var i=m("#gift-certificate-balance"),a=m("#gift-certificate-form"),d=a.find('input[name="certificate_amount"]'),s=(0,n.c)({submit:'#gift-certificate-form input[type="submit"]',delay:300,tap:f.I3});if(d.length){var p=a.find('input[name="certificate_amount"]'),g=p.data("min"),v=p.data("minFormatted"),h=p.data("max"),y=p.data("maxFormatted");s.add({selector:'#gift-certificate-form input[name="certificate_amount"]',validate:function(e,t){var r=Number(t);r||e(!1),e(r>=g&&r<=h)},errorMessage:function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];var n=e;return["[MIN]","[MAX]"].forEach((function(e,t){n=n.includes(e)?n.replace(e,r[t]):n})),n}(r.validationDictionary.certificate_amount_range,v,y)})}if(s.add([{selector:'#gift-certificate-form input[name="to_name"]',validate:function(e,t){e(function(e){return e.length}(t))},errorMessage:r.context.toName},{selector:'#gift-certificate-form input[name="to_email"]',validate:function(e,t){e(function(){return c.c.email.apply(c.c,arguments)}(t))},errorMessage:r.context.toEmail},{selector:'#gift-certificate-form input[name="from_name"]',validate:function(e,t){e(function(e){return e.length}(t))},errorMessage:r.context.fromName},{selector:'#gift-certificate-form input[name="from_email"]',validate:function(e,t){e(function(){return c.c.email.apply(c.c,arguments)}(t))},errorMessage:r.context.fromEmail},{selector:'#gift-certificate-form input[name="certificate_theme"]:first-of-type',triggeredBy:'#gift-certificate-form input[name="certificate_theme"]',validate:function(e){e("string"==typeof a.find('input[name="certificate_theme"]:checked').val())},errorMessage:r.context.certTheme},{selector:'#gift-certificate-form input[name="agree"]',validate:function(e){e(a.find('input[name="agree"]').get(0).checked)},errorMessage:r.context.agreeToTerms},{selector:'#gift-certificate-form input[name="agree2"]',validate:function(e){e(a.find('input[name="agree2"]').get(0).checked)},errorMessage:r.context.agreeToTerms}]),i.length){var b=r.checkCertBalanceValidator(i);i.on("submit",(function(){if(b.performCheck(),!b.areAll("valid"))return!1}))}return a.on("submit",(function(e){if(s.performCheck(),!s.areAll("valid"))return e.preventDefault()})),m("#gift-certificate-preview").click((function(e){if(e.preventDefault(),s.performCheck(),s.areAll("valid")){var t=(0,l.sF)(),i=m(e.currentTarget).data("previewUrl")+"&"+a.serialize();t.open(),u.mk.getPage(i,{},(function(e,i){if(e)return t.updateContent(r.context.previewError);t.updateContent(),function(e,t){var r=m("<iframe />").width("100%").attr("frameBorder","0").appendTo(e)[0],i=r.contentWindow?r.contentWindow.document:r.contentDocument;i.open(),i.write(t),i.close();var n=Math.max(m(window).height()-300,300);m(i).ready((function(){var e=Math.min(i.body.scrollHeight+20,n);m(r).height(e)}))}(m("#modal-content"),i)}))}})),r}return r=e,(t=i).prototype=Object.create(r.prototype),t.prototype.constructor=t,d(t,r),i.prototype.checkCertBalanceValidator=function(e){var t=(0,n.c)({submit:e.find('input[type="submit"]'),tap:f.I3});return t.add({selector:e.find('input[name="giftcertificatecode"]'),validate:function(e,t){e((0,a.c)(t))},errorMessage:this.validationDictionary.invalid_gift_certificate}),t},i}(i.c)}}]);
//# sourceMappingURL=theme-bundle.chunk.984.js.map
